// To run this code you need to install the following dependencies:
// npm install @google/genai mime
// npm install -D @types/node

import {
  GoogleGenAI,
} from '@google/genai';

async function main() {
  const ai = new GoogleGenAI({
    apiKey: process.env.GEMINI_API_KEY,
  });
  const tools = [
    {
      googleSearch: {
      }
    },
  ];
  const config = {
    thinkingConfig: {
      thinkingLevel: 'HIGH',
    },
    tools,
  };
  const model = 'gemini-3-pro-preview';
  const contents = [
    {
      role: 'user',
      parts: [
        {
          text: `INSERT_INPUT_HERE`,
        },
      ],
    },
  ];

  const response = await ai.models.generateContentStream({
    model,
    config,
    contents,
  });
  let fileIndex = 0;
  for await (const chunk of response) {
    console.log(chunk.text);
  }
}

main();

--------------------- ---------------------------------------------- ---------------------------------

// To run this code you need to install the following dependencies:
// npm install @google/genai mime
// npm install -D @types/node

import {
  GoogleGenAI,
} from '@google/genai';

async function main() {
  const ai = new GoogleGenAI({
    apiKey: process.env.GEMINI_API_KEY,
  });
  const tools = [
    {
      googleSearch: {
      }
    },
  ];
  const config = {
    thinkingConfig: {
      thinkingBudget: -1,
    },
    tools,
  };
  const model = 'gemini-flash-latest';
  const contents = [
    {
      role: 'user',
      parts: [
        {
          text: `INSERT_INPUT_HERE`,
        },
      ],
    },
  ];

  const response = await ai.models.generateContentStream({
    model,
    config,
    contents,
  });
  let fileIndex = 0;
  for await (const chunk of response) {
    console.log(chunk.text);
  }
}

main();

---------------------------- ---------------------------------------- ------------------------------


 Add more visualizations (pie charts, bar charts, trend indicators) âœ”
     Enhance the dashboard with additional chart types and advanced analytics features
  2. Improve data capabilities (filtering, date ranges, commodity breakdown)
     Add filters, custom date range selection, and commodity-specific analysis
  3. Export & sharing features (PDF reports, CSV downloads, share links)
     Enable users to export dashboards as PDFs, download data as CSV, or share analysis via links



      ðŸ“Š What the Pie Chart Will Display:

  Most likely: The pie chart will show ONE aggregated slice for all Pharmaceuticals & Healthcare items combined.

  Here's what happens:

  1. Filter Selection â†’ When you select "Pharmaceuticals & Healthcare", all 6 sub-items get added:
    - Drug Formulations (Generics)
    - Active Pharmaceutical Ingredients (APIs)
    - Vaccines (Human & Veterinary)
    - Antibiotics
    - Ayurvedic & Herbal Products
    - Surgicals & Medical Consumables
  2. Sent to Gemini AI (gemini.ts:108) â†’
  "Focus on these sectors: Drug Formulations (Generics), Active Pharmaceutical Ingredients (APIs), ..."
  3. AI Analyzes & Returns Data â†’ Gemini searches for trade data and returns the topSectors array with names like:
    - { name: "Pharmaceuticals", value: 60, percentage: 8 }
  4. Pie Chart Renders â†’ Shows one slice labeled "Pharmaceuticals" (or "Pharmaceuticals & Healthcare") representing the combined total     
  of all 6 sub-items

  Why ONE slice and not six?

  - The AI aggregates related items into broader categories for cleaner visualization
  - The prompt (line 160) instructs: "Highlight key sectors: Electronics, Petroleum, Gems, Pharma..." - suggesting broad categories        
  - The pie chart typically shows top 5-6 sectors total, so it won't break down every sub-item

  If you want individual sub-item slices:

  You would need to modify the AI prompt in gemini.ts to specifically request breakdown by the exact filter items instead of
  aggregating them. But that might make the pie chart cluttered with too many small slices!

  Current behavior = cleaner, aggregated view âœ…